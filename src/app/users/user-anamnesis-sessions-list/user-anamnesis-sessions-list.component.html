<div class="container-fluid mt-3" *ngIf="sessions$ | async as sessions">

    <h3 class="text-center">Sesiones asociadas</h3>
    <h6 class="text-center" style="color:gray;text-transform: uppercase;">(#{{ sessions.length }}) {{ anamnesisItem.diagnosis }}</h6>

    <div class="container-fluid" *ngIf="sessions.length > 0; else noSessionsTemplate">

        <form>
            <div class="form-group">
                <!--
                <button *ngIf="user.active; else disabledTemplate" class="btn btn-primary m-3" (click)="gotoNewSession()">
                <i class="bi-person-plus-fill"></i>&nbsp;Nueva Sesi√≥n
                </button>
                -->

                <div class="input-group mt-3">
                    <input class="form-control border-right-0" type="text" [formControl]="filter">
                    <span class="input-group-append bg-white border-left-0">
                  <span class="input-group-text bg-transparent">
                    <i class="bi-search text-primary"></i>
                  </span>
                    </span>
                </div>
            </div>
        </form>

        <table class="table">
            <thead>
                <tr>
                    <th scope="col">üå°Ô∏è</th>
                    <!--<th scope="col">Id</th>-->
                    <!--<th scope="col">Active</th>-->
                    <th scope="col">Fecha</th>
                    <th scope="col">S√≠ntomas</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let session of sessions; index as i">
                    <!--<th scope="row">{{ i + 1 }}</th>-->
                    <th scope="row">{{ session.painRank }}</th>
                    <!--<td>{{ session.id }}</td>-->
                    <!--<td>{{ session.active }}</td>-->
                    <td>{{ session.date }}</td>
                    <td>{{ session.symptoms }}</td>
                    <td class="buttons-3 float-right">
                        <!--
                        <a (click)="gotoSession(session)">
                            <i class="bi-arrow-right-square text-info"></i>
                        </a>&nbsp;&nbsp;
                        -->
                        <a (click)="editSession(session)">
                            <i class="bi-pencil text-primary"></i>
                        </a>&nbsp;&nbsp;
                        <a (click)="deleteSession(session)">
                            <i class="bi-calendar-minus text-primary"></i>
                        </a>
                    </td>

                </tr>
            </tbody>
        </table>

    </div>
</div>

<ng-template #disabledTemplate>
    <div class="alert alert-danger mt-2 text-center" role="alert">
        Esta persona aparece como inactiva.
    </div>
</ng-template>

<ng-template #noSessionsTemplate>
    <div class="alert alert-primary mt-4 text-center" role="alert">
        A√∫n no hay sesiones para este persona
    </div>
</ng-template>
